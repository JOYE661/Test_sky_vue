{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/ts-loader/index.js??ref--13-3!/app/src/permission.ts","dependencies":[{"path":"/app/src/permission.ts","mtime":1692717650000},{"path":"/app/babel.config.js","mtime":1692717650000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1767081203604},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1767081197901},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1767081204095},{"path":"/app/node_modules/ts-loader/index.js","mtime":1767081197570}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js\";\nimport router from \"./router\";\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport Cookies from 'js-cookie';\nNProgress.configure({\n  'showSpinner': false\n});\nrouter.beforeEach(/*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(to, _, next) {\n    return regeneratorRuntime.wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          NProgress.start();\n          if (Cookies.get('token')) {\n            next();\n          } else {\n            if (!to.meta.notNeedAuth) {\n              next('/login');\n            } else {\n              next();\n            }\n          }\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.afterEach(function (to) {\n  NProgress.done();\n  document.title = to.meta.title;\n});",{"version":3,"names":["router","NProgress","Cookies","configure","beforeEach","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","to","_","next","wrap","_context","prev","start","get","meta","notNeedAuth","stop","_x","_x2","_x3","apply","arguments","afterEach","done","document","title"],"sources":["/app/src/permission.ts"],"sourcesContent":["import router from './router'\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\nimport { Message } from 'element-ui'\nimport { Route } from 'vue-router'\nimport { UserModule } from '@/store/modules/user'\nimport Cookies from 'js-cookie'\n\nNProgress.configure({ 'showSpinner': false })\n\nrouter.beforeEach(async (to: Route, _: Route, next: any) => {\n  NProgress.start()\n  if (Cookies.get('token')) {\n    next()\n  } else {\n    if (!to.meta.notNeedAuth) {\n      next('/login')\n    } else {\n      next()\n    }\n  }\n})\n\nrouter.afterEach((to: Route) => {\n  NProgress.done()\n  document.title = to.meta.title\n})\n"],"mappings":";;AAAA,OAAOA,MAAM;AACb,OAAOC,SAAS,MAAM,WAAW;AACjC,OAAO,yBAAyB;AAIhC,OAAOC,OAAO,MAAM,WAAW;AAE/BD,SAAS,CAACE,SAAS,CAAC;EAAE,aAAa,EAAE;AAAK,CAAE,CAAC;AAE7CH,MAAM,CAACI,UAAU;EAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,kBAAA,CAAAC,IAAA,CAAC,SAAAC,QAAOC,EAAS,EAAEC,CAAQ,EAAEC,IAAS;IAAA,OAAAL,kBAAA,CAAAM,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAF,IAAA;QAAA;UACrDX,SAAS,CAACe,KAAK,EAAE;UACjB,IAAId,OAAO,CAACe,GAAG,CAAC,OAAO,CAAC,EAAE;YACxBL,IAAI,EAAE;WACP,MAAM;YACL,IAAI,CAACF,EAAE,CAACQ,IAAI,CAACC,WAAW,EAAE;cACxBP,IAAI,CAAC,QAAQ,CAAC;aACf,MAAM;cACLA,IAAI,EAAE;;;QAET;QAAA;UAAA,OAAAE,QAAA,CAAAM,IAAA;MAAA;IAAA,GAAAX,OAAA;EAAA,CACF;EAAA,iBAAAY,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAlB,IAAA,CAAAmB,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAEFzB,MAAM,CAAC0B,SAAS,CAAC,UAAChB,EAAS,EAAI;EAC7BT,SAAS,CAAC0B,IAAI,EAAE;EAChBC,QAAQ,CAACC,KAAK,GAAGnB,EAAE,CAACQ,IAAI,CAACW,KAAK;AAChC,CAAC,CAAC","ignoreList":[]}]}