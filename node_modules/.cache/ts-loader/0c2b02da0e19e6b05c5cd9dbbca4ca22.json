{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/ts-loader/index.js??ref--13-3!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/layout/components/Sidebar/index.vue?vue&type=script&lang=ts","dependencies":[{"path":"/app/src/layout/components/Sidebar/index.vue","mtime":1692717650000},{"path":"/app/babel.config.js","mtime":1692717650000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1767081203604},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1767081197901},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1767081204095},{"path":"/app/node_modules/ts-loader/index.js","mtime":1767081197570},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1767081203604},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1767081197097}],"contextDependencies":[],"result":["import \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es6.array.find\";\nimport _toConsumableArray from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport _classCallCheck from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js\";\nimport _possibleConstructorReturn from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/app/node_modules/@babel/runtime-corejs2/helpers/esm/inherits.js\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport { __decorate } from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { AppModule } from '@/store/modules/app';\nimport { UserModule } from '@/store/modules/user';\nimport SidebarItem from \"./SidebarItem.vue\";\nimport variables from '@/styles/_variables.scss';\nimport Cookies from 'js-cookie';\nvar default_1 = /*#__PURE__*/function (_Vue) {\n  function default_1() {\n    var _this;\n    _classCallCheck(this, default_1);\n    _this = _callSuper(this, default_1, arguments);\n    _this.restKey = 0;\n    return _this;\n  }\n  _inherits(default_1, _Vue);\n  return _createClass(default_1, [{\n    key: \"name\",\n    get: function get() {\n      return UserModule.userInfo.name ? UserModule.userInfo.name : JSON.parse(Cookies.get('user_info')).name;\n    }\n  }, {\n    key: \"defOpen\",\n    get: function get() {\n      var _this2 = this;\n      // const urlArr = this.$route.path.split('/')\n      // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\n      var path = ['/'];\n      this.routes.forEach(function (n, i) {\n        if (n.meta.roles && n.meta.roles[0] === _this2.roles[0]) {\n          path.splice(0, 1, n.path);\n        }\n      });\n      return path;\n    }\n  }, {\n    key: \"defAct\",\n    get: function get() {\n      var path = this.$route.path;\n      return path;\n    }\n  }, {\n    key: \"sidebar\",\n    get: function get() {\n      return AppModule.sidebar;\n    }\n  }, {\n    key: \"roles\",\n    get: function get() {\n      return UserModule.roles;\n    }\n  }, {\n    key: \"routes\",\n    get: function get() {\n      var routes = JSON.parse(JSON.stringify(_toConsumableArray(this.$router.options.routes)));\n      console.log('-=-=routes=-=-=', routes);\n      console.log('-=-=routes=-=-=', this.roles[0]);\n      var menuList = [];\n      var menu = routes.find(function (item) {\n        return item.path === '/';\n      });\n      if (menu) {\n        menuList = menu.children;\n      }\n      console.log('-=-=routes=-wwww=-=', routes);\n      return menuList;\n    }\n  }, {\n    key: \"variables\",\n    get: function get() {\n      return variables;\n    }\n  }, {\n    key: \"isCollapse\",\n    get: function get() {\n      return !this.sidebar.opened;\n    }\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this3 = this;\n        return regeneratorRuntime.wrap(function (_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              this.$store.dispatch('LogOut').then(function () {\n                // location.href = '/'\n                _this3.$router.replace({\n                  path: '/login'\n                });\n              });\n              // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n      return logout;\n    }()\n  }]);\n}(Vue);\ndefault_1 = __decorate([Component({\n  name: 'SideBar',\n  components: {\n    SidebarItem: SidebarItem\n  }\n})], default_1);\nexport default default_1;",{"version":3,"names":["Component","Vue","AppModule","UserModule","SidebarItem","variables","Cookies","default_1","_Vue","_this","_classCallCheck","restKey","_inherits","_createClass","key","get","userInfo","name","JSON","parse","_this2","path","routes","forEach","n","i","meta","roles","splice","$route","sidebar","stringify","_toConsumableArray","$router","options","console","log","menuList","menu","find","item","children","opened","value","_logout","_asyncToGenerator","regeneratorRuntime","mark","_callee","_this3","wrap","_context","prev","next","$store","dispatch","then","replace","stop","logout","apply","arguments","__decorate","components"],"sources":["/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/layout/components/Sidebar/index.vue?vue&type=script&lang=ts"],"sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport { UserModule } from '@/store/modules/user'\nimport SidebarItem from './SidebarItem.vue'\nimport variables from '@/styles/_variables.scss'\nimport { getSidebarStatus, setSidebarStatus } from '@/utils/cookies'\nimport Cookies from 'js-cookie'\n@Component({\n  name: 'SideBar',\n  components: {\n    SidebarItem\n  }\n})\nexport default class extends Vue {\n  private restKey: number = 0\n  get name() {\n    return (UserModule.userInfo as any).name\n      ? (UserModule.userInfo as any).name\n      : JSON.parse(Cookies.get('user_info') as any).name\n  }\n  get defOpen() {\n    // const urlArr = this.$route.path.split('/')\n    // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\n    let path = ['/']\n    this.routes.forEach((n: any, i: number) => {\n      if (n.meta.roles && n.meta.roles[0] === this.roles[0]) {\n        path.splice(0, 1, n.path)\n      }\n    })\n    return path\n  }\n\n  get defAct() {\n    let path = this.$route.path\n    return path\n  }\n\n  get sidebar() {\n    return AppModule.sidebar\n  }\n\n  get roles() {\n    return UserModule.roles\n  }\n\n  get routes() {\n    let routes = JSON.parse(\n      JSON.stringify([...(this.$router as any).options.routes])\n    )\n    console.log('-=-=routes=-=-=', routes)\n    console.log('-=-=routes=-=-=', this.roles[0])\n    let menuList = []\n    let menu = routes.find(item => item.path === '/')\n    if (menu) {\n      menuList = menu.children\n    }\n    console.log('-=-=routes=-wwww=-=', routes)\n    return menuList\n  }\n\n  get variables() {\n    return variables\n  }\n\n  get isCollapse() {\n    return !this.sidebar.opened\n  }\n  private async logout() {\n    this.$store.dispatch('LogOut').then(() => {\n      // location.href = '/'\n      this.$router.replace({ path: '/login' })\n    })\n    // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}